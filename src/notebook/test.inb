[{"kind":1,"language":"markdown","value":"Liste des livres"},{"kind":2,"language":"cl","value":"call pgm(livrelst)"},{"kind":1,"language":"markdown","value":"DÃ©tail d'un livre"},{"kind":2,"language":"cl","value":"CALL PGM(LIVREDET) PARM('0001')"},{"kind":1,"language":"markdown","value":"lancement des tests"},{"kind":2,"language":"cl","value":"RUCALLTST TSTPGM(NOSEUTST/LIVRERST) TSTPRC(*ALL)"},{"kind":1,"language":"markdown","value":"clean du builds"},{"kind":2,"language":"shellscript","value":"pwd\nls\nenv"},{"kind":1,"language":"markdown","value":"recherche d'un livre"},{"kind":2,"language":"sql","value":"    with BOOKS as (\r\n    SELECT p.id, p.titre, p.description, p.nombrePages\r\n    FROM JSON_TABLE(\r\n            HTTP_GET('https://fakerestapi.azurewebsites.net/api/v1/Books', ''),\r\n            '$'\r\n            COLUMNS(\r\n                id INTEGER PATH 'lax $.id', \r\n                titre VARCHAR(132) PATH 'lax $.title',\r\n                description VARCHAR(132) PATH 'lax $.description',\r\n                nombrePages INTEGER PATH 'lax $.pageCount'\r\n                )\r\n        ) AS p where p.id = 1\r\n    ),\r\n    PHOTOS as (\r\n     SELECT a.idBook,a.url\r\n    FROM JSON_TABLE(\r\n            HTTP_GET('https://fakerestapi.azurewebsites.net/api/v1/CoverPhotos', ''),\r\n            '$'\r\n            COLUMNS(\r\n                id INTEGER PATH 'lax $.id', \r\n                idBook INTEGER PATH 'lax $.idBook', \r\n                url VARCHAR(132) PATH 'lax $.url'\r\n                )\r\n        ) AS a\r\n    where idBook <> 101\r\n    )\r\n    select b.id, b.titre, b.description, b.nombrePages, p.url from books b join photos p on b.id = p.idBook;"}]